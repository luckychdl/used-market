(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[770],{9298:function(n,e,t){"use strict";t.d(e,{fK:function(){return i},wq:function(){return a},cy:function(){return d}});var r=t(19501),i=r.Ry().shape({email:r.Z_().email("\uc774\uba54\uc77c \ud615\uc2dd\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.").required("\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),password:r.Z_().min(8,"\ube44\ubc00\ubc88\ud638\ub294 8\uc790 \uc774\uc0c1\uc73c\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.").max(16,"\ube44\ubc00\ubc88\ud638\ub294 16\uc790 \uc774\ud558\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.").required("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")}),a=r.Ry().shape({email:r.Z_().email("\uc774\uba54\uc77c \ud615\uc2dd\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.").required("\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),password:r.Z_().min(8,"\ube44\ubc00\ubc88\ud638\ub294 8\uc790 \uc774\uc0c1\uc73c\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.").max(16,"\ube44\ubc00\ubc88\ud638\ub294 16\uc790 \uc774\ud558\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.").required("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."),confirmPassword:r.Z_().min(8,"\ube44\ubc00\ubc88\ud638\ub294 8\uc790 \uc774\uc0c1\uc73c\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.").max(16,"\ube44\ubc00\ubc88\ud638\ub294 16\uc790 \uc774\ud558\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.").required("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."),name:r.Z_().min(2,"\ub2c9\ub124\uc784\uc740 2\uc790 \uc774\uc0c1\uc73c\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.").max(15,"\ub2c9\ub124\uc784\uc740 15\uc790 \uc774\ud558\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.").required("\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.")}),d=r.Ry().shape({name:r.Z_().required("\uc0c1\ud488\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),remarks:r.Z_().required("\uc0c1\ud488 \uc694\uc57d\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),contents:r.Z_().required("\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),price:r.Z_().min(0).required("\ud310\ub9e4 \uac00\uaca9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),tags:r.Z_().required("\ud0dc\uadf8\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")})},52657:function(n,e,t){"use strict";var r=t(26265),i=t(85893),a=t(11163),d=t(67294),o=t(60055);function s(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}e.Z=function(n){return function(e){var t=(0,a.useRouter)();return(0,d.useEffect)((function(){localStorage.getItem("refreshToken")||o.Z.confirm({content:"\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4!",onOk:function(){t.push("/boards/login")}})}),[]),(0,i.jsx)(n,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?s(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}({},e))}}},35779:function(n,e,t){"use strict";var r=t(85893),i=t(27261);function a(){var n=(0,i.Z)(["\n  font-weight: 500;\n  font-size: 16px;\n  color: #757575;\n  margin-bottom: 20px;\n"]);return a=function(){return n},n}var d=t(24524).Z.div(a());e.Z=function(n){return(0,r.jsx)(d,{defaultValue:n.defaultValue,children:n.divName})}},56951:function(n,e,t){"use strict";t.d(e,{Z:function(){return Z}});var r=t(809),i=t.n(r),a=t(85893),d=t(92447),o=t(27261),s=t(24524);function u(){var n=(0,o.Z)(["\n  box-sizing: border-box;\n  border: 1px solid #bdbdbd;\n  width: 78px;\n  height: 78px;\n  /* background-color: #bdbdbd; */\n  margin-right: 20px;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  @media (max-width: 767px) {\n    width: 80px;\n    height: 60px;\n  }\n"]);return u=function(){return n},n}function c(){var n=(0,o.Z)([""]);return c=function(){return n},n}function l(){var n=(0,o.Z)([""]);return l=function(){return n},n}function p(){var n=(0,o.Z)(["\n  box-sizing: border-box;\n  /* border: 1px solid #bdbdbd; */\n  border: none;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 78px;\n  height: 78px;\n  background-color: #bdbdbd;\n  margin-right: 20px;\n  margin-bottom: 30px;\n  cursor: pointer;\n  :active {\n    position: relative;\n    top: 4px;\n  }\n  @media (max-width: 767px) {\n    width: 55px;\n    height: 55px;\n    margin-right: 0;\n  }\n"]);return p=function(){return n},n}var m=s.Z.div(p()),f=s.Z.div(l()),x=s.Z.div(c()),g=s.Z.img(u());function h(n){return(0,a.jsxs)(a.Fragment,{children:[n.imgUrl||n.newImages?(0,a.jsx)(g,{src:n.imgUrl||"https://storage.googleapis.com/".concat(n.newImages),onClick:n.onClickBox}):(0,a.jsxs)(m,{onClick:n.onClickBox,children:[(0,a.jsx)(f,{children:"+"}),(0,a.jsx)(x,{children:"Upload"})]}),(0,a.jsx)("input",{ref:n.fileRef,type:"file",onChange:n.onChangeFile,style:{display:"none"}})]})}var v=t(67294);function b(n){return null!==n&&void 0!==n&&n.size?n.size>5242880?(alert("\ud30c\uc77c \uc0ac\uc774\uc988\uac00 \ub108\ubb34 \ud07d\ub2c8\ub2e4. (\uc81c\ud55c: 5MB)"),!1):!!(null!==n&&void 0!==n&&n.type.includes("png")||null!==n&&void 0!==n&&n.type.includes("jpeg"))||(alert("png \ub610\ub294 jpeg \ud30c\uc77c\ub9cc \uc5c5\ub85c\ub4dc \uac00\ub2a5\ud569\ub2c8\ub2e4."),!1):(alert("\ud30c\uc77c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."),!1)}var Z=function(n){var e=(0,v.useRef)(null),t=(0,v.useState)(""),r=t[0],o=t[1];function s(){return(s=(0,d.Z)(i().mark((function e(t){var r,a,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(a=null===(r=t.target.files)||void 0===r?void 0:r[0])){e.next=3;break}return e.abrupt("return");case 3:console.log(a,"aa"),(d=new FileReader).readAsDataURL(a),d.onload=function(e){var t;o(null===(t=e.target)||void 0===t?void 0:t.result),n.onChangeFiles(a,n.index)};case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(h,{onChangeFile:function(n){return s.apply(this,arguments)},onClickBox:function(){var n;null===(n=e.current)||void 0===n||n.click()},newImages:n.newImages,imgUrl:r,fileRef:e})})}},71796:function(n,e,t){"use strict";t.d(e,{o7:function(){return u},DV:function(){return c},bY:function(){return l},Sp:function(){return p}});var r=t(27261),i=t(22527);function a(){var n=(0,r.Z)(["\n  mutation deleteUseditem($useditemId: ID!) {\n    deleteUseditem(useditemId: $useditemId)\n  }\n"]);return a=function(){return n},n}function d(){var n=(0,r.Z)(["\n  mutation createPointTransactionOfBuyingAndSelling($useritemId: ID!) {\n    createPointTransactionOfBuyingAndSelling(useritemId: $useritemId) {\n      _id\n    }\n  }\n"]);return d=function(){return n},n}function o(){var n=(0,r.Z)(["\n  mutation toggleUseditemPick($useditemId: ID!) {\n    toggleUseditemPick(useditemId: $useditemId)\n  }\n"]);return o=function(){return n},n}function s(){var n=(0,r.Z)(["\n  query fetchUseditem($useditemId: ID!) {\n    fetchUseditem(useditemId: $useditemId) {\n      name\n      seller {\n        _id\n        name\n        email\n      }\n      remarks\n      contents\n      price\n      tags\n      images\n      pickedCount\n      useditemAddress {\n        _id\n        address\n        addressDetail\n        lat\n        lng\n      }\n    }\n  }\n"]);return s=function(){return n},n}var u=(0,i.ZP)(s()),c=(0,i.ZP)(o()),l=(0,i.ZP)(d()),p=(0,i.ZP)(a())},96770:function(n,e,t){"use strict";t.d(e,{Z:function(){return Nn}});var r=t(85893),i=t(809),a=t.n(i),d=t(92447),o=t(59999),s=t(64121),u=t(27261),c=t(22527);function l(){var n=(0,u.Z)(["\n  mutation updateUseditem(\n    $updateUseditemInput: UpdateUseditemInput!\n    $useditemId: ID!\n  ) {\n    updateUseditem(\n      updateUseditemInput: $updateUseditemInput\n      useditemId: $useditemId\n    ) {\n      _id\n    }\n  }\n"]);return l=function(){return n},n}function p(){var n=(0,u.Z)(["\n  mutation uploadFile($file: Upload!) {\n    uploadFile(file: $file) {\n      url\n    }\n  }\n"]);return p=function(){return n},n}function m(){var n=(0,u.Z)(["\n  mutation createUseditem($createUseditemInput: CreateUseditemInput!) {\n    createUseditem(createUseditemInput: $createUseditemInput) {\n      _id\n    }\n  }\n"]);return m=function(){return n},n}var f=(0,c.ZP)(m()),x=(0,c.ZP)(p()),g=(0,c.ZP)(l()),h=t(26265),v=t(24524);function b(){var n=(0,u.Z)(["\n  color: red;\n"]);return b=function(){return n},n}function Z(){var n=(0,u.Z)(["\n  width: 179px;\n  height: 65px;\n  border: none;\n  color: white;\n  background-color: #35c5f0;\n  font-size: 18px;\n  border-radius: 5px;\n  margin-bottom: 50px;\n  cursor: pointer;\n  :active {\n    position: relative;\n    top: 4px;\n  }\n"]);return Z=function(){return n},n}function w(){var n=(0,u.Z)(["\n  display: flex;\n\n  margin-bottom: 30px;\n  @media (max-width: 767px) {\n    width: 300px;\n    justify-content: space-between;\n  }\n"]);return w=function(){return n},n}function j(){var n=(0,u.Z)(["\n  background-color: lightcyan;\n  width: 180px;\n  height: 180px;\n  margin-right: 24px;\n  margin-bottom: 40px;\n  cursor: pointer;\n  :active {\n    position: relative;\n    top: 4px;\n  }\n"]);return j=function(){return n},n}function y(){var n=(0,u.Z)(["\n  display: flex;\n  margin-bottom: 36px;\n"]);return y=function(){return n},n}function k(){var n=(0,u.Z)(["\n  background-color: skyblue;\n  width: 384px;\n  height: 252px;\n  margin-bottom: 40px;\n  @media (max-width: 767px) {\n    width: 90%;\n  }\n"]);return k=function(){return n},n}function O(){var n=(0,u.Z)(["\n  width: 588px;\n  height: 52px;\n  margin-bottom: 15px;\n  border: 1px solid #bdbdbd;\n  outline-color: #757575;\n  border-radius: 5px;\n  @media (max-width: 767px) {\n    width: 90%;\n  }\n"]);return O=function(){return n},n}function U(){var n=(0,u.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 20px;\n"]);return U=function(){return n},n}function C(){var n=(0,u.Z)(["\n  margin-right: 10px;\n"]);return C=function(){return n},n}function I(){var n=(0,u.Z)(["\n  width: 108px;\n  height: 52px;\n  font-size: 18px;\n  padding: auto 0;\n  margin-right: 10px;\n  text-align: center;\n  border: 1px solid #bdbdbd;\n  outline-color: #757575;\n  ::placeholder {\n    color: #212121;\n  }\n"]);return I=function(){return n},n}function P(){var n=(0,u.Z)(["\n  margin-top: 20px;\n  /* width: 850px; */\n  @media (max-width: 767px) {\n    width: 100%;\n  }\n"]);return P=function(){return n},n}function A(){var n=(0,u.Z)(["\n  display: flex;\n  width: 850px;\n  justify-content: space-between;\n  @media (max-width: 767px) {\n    width: 100%;\n  }\n"]);return A=function(){return n},n}function D(){var n=(0,u.Z)(["\n  width: 996px;\n  height: 320px;\n  resize: none;\n  border-radius: 5px;\n  padding: 15px 0 0 15px;\n  font-size: 17px;\n  border: 1px solid #bdbdbd;\n  outline-color: #757575;\n  ::placeholder {\n    color: #bdbdbd;\n  }\n  @media (max-width: 767px) {\n    width: 100%;\n  }\n"]);return D=function(){return n},n}function S(){var n=(0,u.Z)(["\n  margin-bottom: 20px;\n  font-weight: 500;\n  color: #757575;\n  font-size: 16px;\n"]);return S=function(){return n},n}function _(){var n=(0,u.Z)(["\n  width: 996px;\n  height: 52px;\n  border-radius: 5px;\n  padding-left: 15px;\n  font-size: 16px;\n  border: 1px solid #bdbdbd;\n  outline-color: #757575;\n  ::placeholder {\n    color: #bdbdbd;\n  }\n  @media (max-width: 767px) {\n    width: 90%;\n  }\n"]);return _=function(){return n},n}function E(){var n=(0,u.Z)(["\n  font-weight: 500;\n  font-size: 16px;\n  color: #757575;\n  margin-bottom: 20px;\n"]);return E=function(){return n},n}function N(){var n=(0,u.Z)(["\n  width: 850px;\n  margin: 20px 0;\n  @media (max-width: 767px) {\n    /* margin: 0; */\n    max-width: 300px;\n  }\n"]);return N=function(){return n},n}function M(){var n=(0,u.Z)(["\n  font-weight: bold;\n  font-size: 36px;\n  color: #616161;\n  margin: 80px 0 50px 0;\n  @media (max-width: 767px) {\n    margin: 40px 0 0 0;\n  }\n"]);return M=function(){return n},n}function F(){var n=(0,u.Z)(["\n  width: 1000px;\n  /* height: 2000px; */\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 60px;\n  padding-bottom: 50px;\n  box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.2);\n  @media (max-width: 767px) {\n    width: 100%;\n    box-shadow: none;\n    margin-top: 0;\n    padding: 0;\n  }\n"]);return F=function(){return n},n}var q=v.Z.div(F()),z=v.Z.h1(M()),L=v.Z.div(N()),V=(v.Z.div(E()),v.Z.input(_()),v.Z.div(S()),v.Z.textarea(D()),v.Z.div(A())),$=v.Z.div(P()),R=(v.Z.input(I()),v.Z.img(C()),v.Z.div(U()),v.Z.input(O()),v.Z.div(k()),v.Z.div(y()),v.Z.div(j()),v.Z.div(w())),B=(v.Z.button(Z()),v.Z.div(b())),W=t(56951),T=t(35779);function G(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function K(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?G(Object(t),!0).forEach((function(e){(0,h.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function Q(){var n=(0,u.Z)(["\n  color: red;\n"]);return Q=function(){return n},n}function X(){var n=(0,u.Z)(["\n  width: 850px;\n  height: 60px;\n  border-radius: 5px;\n  padding-left: 15px;\n  font-size: 16px;\n  border: 1px solid #bdbdbd;\n  outline-color: #512771;\n  ::placeholder {\n    color: #bdbdbd;\n  }\n  @media (max-width: 767px) {\n    width: 300px;\n  }\n"]);return X=function(){return n},n}var Y=v.Z.input(X()),H=v.Z.div(Q()),J=function(n){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Y,K(K({type:n.type},n.register),{},{placeholder:n.inputName,defaultValue:n.defaultValue})),(0,r.jsx)(H,{style:{paddingTop:"5px"},children:n.errorMessage})]})},nn=t(34490),en=t(5152),tn=(t(3773),t(67294));function rn(){var n=(0,u.Z)(["\n  width: 440px;\n  height: 52px;\n  margin-bottom: 15px;\n  padding-left: 10px;\n  border: 1px solid #bdbdbd;\n  outline-color: #512771;\n  border-radius: 7px;\n  @media (max-width: 767px) {\n    width: 100%;\n  }\n"]);return rn=function(){return n},n}function an(){var n=(0,u.Z)(["\n  margin: 0 10px;\n"]);return an=function(){return n},n}function dn(){var n=(0,u.Z)(["\n  width: 108px;\n  height: 52px;\n  font-size: 18px;\n  padding: auto 0;\n  /* margin-right: 10px; */\n  text-align: center;\n  border: 1px solid #bdbdbd;\n  border-radius: 7px;\n  outline-color: #512771;\n  ::placeholder {\n    color: #bdbdbd;\n  }\n  @media (max-width: 767px) {\n    width: 123px;\n  }\n"]);return dn=function(){return n},n}function on(){var n=(0,u.Z)(["\n  display: flex;\n  margin-bottom: 36px;\n  @media (max-width: 767px) {\n    width: 100%;\n  }\n"]);return on=function(){return n},n}function sn(){var n=(0,u.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: 340px;\n  @media (max-width: 767px) {\n    width: 300px;\n  }\n"]);return sn=function(){return n},n}function un(){var n=(0,u.Z)(["\n  width: 384px;\n  height: 252px;\n  margin-bottom: 40px;\n  margin-right: 30px;\n  @media (max-width: 767px) {\n    width: 300px;\n    margin-right: 0;\n  }\n"]);return un=function(){return n},n}function cn(){var n=(0,u.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: 340px;\n"]);return cn=function(){return n},n}function ln(){var n=(0,u.Z)(["\n  display: flex;\n  align-items: center;\n  @media (max-width: 767px) {\n    flex-direction: column;\n  }\n"]);return ln=function(){return n},n}var pn=v.Z.div(ln()),mn=v.Z.div(cn()),fn=v.Z.div(un()),xn=v.Z.div(sn()),gn=v.Z.div(on()),hn=v.Z.input(dn()),vn=v.Z.img(an()),bn=v.Z.input(rn()),Zn=t(60007),wn=t(60055),jn=function(n){var e,t,i,a;return(0,r.jsxs)(pn,{children:[(0,r.jsxs)(mn,{children:[(0,r.jsx)(T.Z,{divName:"\uac70\ub798\uc704\uce58"}),(0,r.jsx)(fn,{id:"map"})]}),(0,r.jsxs)(xn,{children:[(0,r.jsx)(T.Z,{divName:"GPS"}),(0,r.jsxs)(gn,{children:[(0,r.jsx)(hn,{placeholder:n.lat,readOnly:!0,defaultValue:null===(e=n.data)||void 0===e?void 0:e.fetchUseditem.useditemAddress.lat}),(0,r.jsx)(vn,{src:"/FreeBoard/location.svg"}),(0,r.jsx)(hn,{placeholder:n.lng,readOnly:!0,defaultValue:null===(t=n.data)||void 0===t?void 0:t.fetchUseditem.useditemAddress.lng})]}),(0,r.jsx)(T.Z,{divName:"\uc8fc\uc18c"}),(0,r.jsx)("input",{type:"text",ref:n.addressRef,onClick:n.onClickOpenModal,style:{display:"none"}}),(0,r.jsx)(bn,{onClick:n.onClickBox,value:n.data?null===(i=n.data)||void 0===i?void 0:i.fetchUseditem.useditemAddress.address:n.address}),n.isOpen&&(0,r.jsx)(wn.Z,{title:"\uc8fc\uc18c \uac80\uc0c9\ud558\uae30",visible:n.isOpen,onOk:n.handleCancel,onCancel:n.handleCancel,children:(0,r.jsx)(Zn.ZP,{onComplete:n.onComplete})}),(0,r.jsx)(bn,{type:"text",onChange:n.onChangeAddressDetail,defaultValue:null===(a=n.data)||void 0===a?void 0:a.fetchUseditem.useditemAddress.addressDetail})]})]})},yn=function(n){var e=(0,tn.useState)(!1),t=e[0],i=e[1],a=(0,tn.useState)(),d=a[0],o=a[1],s=(0,tn.useRef)(null),u=(0,tn.useState)(),c=u[0],l=u[1],p=(0,tn.useState)(),m=p[0],f=p[1],x=(0,tn.useState)()[0];(0,tn.useEffect)((function(){var e=document.createElement("script");e.src="//dapi.kakao.com/v2/maps/sdk.js?appkey=f7c32ed029b0a9345341d56c3631807f&libraries=services,clusterer,drawing&autoload=false",document.head.appendChild(e),e.onload=function(){window.kakao.maps.load((function(){var e=document.getElementById("map"),t={center:new window.kakao.maps.LatLng(37.485298,126.900966),level:3},r=new window.kakao.maps.Map(e,t);(new window.kakao.maps.services.Geocoder).addressSearch(d,(function(e,t){if(t===window.kakao.maps.services.Status.OK){var i,a,o,s=new window.kakao.maps.LatLng(n.data?null===(i=n.data)||void 0===i?void 0:i.fetchUseditem.useditemAddress.lat:e[0].y,n.data?null===(a=n.data)||void 0===a?void 0:a.fetchUseditem.useditemAddress.lng:e[0].x),u=new window.kakao.maps.Marker({map:r,position:s});console.log(null===(o=n.data)||void 0===o?void 0:o.fetchUseditem.useditemAddress.lng,"aaa"),u.setMap(r),r.setCenter(s),l(s.La),f(s.Ma),n.setAddress(d),n.setAddressDetail(x),n.setLng(s.La),n.setLat(s.Ma)}}))}))}}),[d,n.setLng]);return(0,r.jsx)(jn,{isOpen:t,address:d,addressDetail:x,lng:c,lat:m,data:n.data,defaultAddress:n.defaultAddress,addressRef:s,onClickBox:function(){var n;null===(n=s.current)||void 0===n||n.click()},onComplete:function(n){o(n.address),i(!1)},handleCancel:function(){i(!1)},onClickAddressDetail:function(){i(!1)},onClickOpenModal:function(){i(!0)},onChangeAddressDetail:function(e){n.setAddressDetail(e.target.value)}})};function kn(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function On(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?kn(Object(t),!0).forEach((function(e){(0,h.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kn(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var Un=(0,en.default)((function(){return Promise.all([t.e(774),t.e(937),t.e(127)]).then(t.t.bind(t,71167,23))}),{ssr:!1,loadableGenerated:{webpack:function(){return[71167]},modules:["../src/components/units/usedMarket/write/marketWrite.presenter.tsx -> react-quill"]}}),Cn=function(n){var e,t,i,a,d,o,s,u,c;return(0,r.jsx)("form",{onSubmit:n.handleSubmit(n.isEditWrite?n.onClickUpdate:n.onClickItem),children:(0,r.jsxs)(q,{children:[n.isEditWrite?(0,r.jsx)(z,{children:"\uac8c\uc2dc\ubb3c \uc218\uc815"}):(0,r.jsx)(z,{children:"\uac8c\uc2dc\ubb3c \ub4f1\ub85d"}),(0,r.jsxs)(L,{children:[(0,r.jsx)(T.Z,{divName:"\uc0c1\ud488\uba85"}),(0,r.jsx)(J,{type:"text",inputName:"\uc0c1\ud488\uba85\uc744 \uc791\uc131\ud574\uc8fc\uc138\uc694",defaultValue:null===(e=n.data)||void 0===e?void 0:e.fetchUseditem.name,register:On({},n.register("name")),errorMessage:null===(t=n.errors.name)||void 0===t?void 0:t.message})]}),(0,r.jsxs)(L,{children:[(0,r.jsx)(T.Z,{divName:"\ud55c\uc904\uc694\uc57d"}),(0,r.jsx)(J,{type:"text",inputName:"\uc0c1\ud488\uc694\uc57d\uc744 \uc791\uc131\ud574\uc8fc\uc138\uc694",register:On({},n.register("remarks")),defaultValue:null===(i=n.data)||void 0===i?void 0:i.fetchUseditem.remarks,errorMessage:null===(a=n.errors.remarks)||void 0===a?void 0:a.message})]}),(0,r.jsxs)(L,{children:[(0,r.jsx)(T.Z,{divName:"\uc0c1\ud488 \uc124\uba85"}),(0,r.jsx)(Un,{placeholder:"\uc0c1\ud488\uc744 \uc124\uba85\ud574\uc8fc\uc138\uc694",onChange:n.onChangeValue,style:{maxWidth:"100%",height:"330px",borderRadius:"10px",fontSize:"16px",marginBottom:"20px",paddingBottom:"30px",outlineColor:"#35c5f0"}}),(0,r.jsx)(B,{style:{paddingTop:"5px"},children:null===(d=n.errors.contents)||void 0===d?void 0:d.message})]}),(0,r.jsxs)(L,{children:[(0,r.jsx)(T.Z,{divName:"\ud310\ub9e4 \uac00\uaca9"}),(0,r.jsx)(J,{type:"text",inputName:"\ud310\ub9e4\uac00\uaca9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",defaultValue:null===(o=n.data)||void 0===o?void 0:o.fetchUseditem.price,register:On({},n.register("price")),errorMessage:null===(s=n.errors.price)||void 0===s?void 0:s.message})]}),(0,r.jsxs)(L,{children:[(0,r.jsx)(T.Z,{divName:"\ud0dc\uadf8 \uc785\ub825"}),(0,r.jsx)(J,{type:"text",inputName:"#\ud0dc\uadf8 #\ud0dc\uadf8 #\ud0dc\uadf8",register:On({},n.register("tags")),defaultValue:null===(u=n.data)||void 0===u?void 0:u.fetchUseditem.tags,errorMessage:null===(c=n.errors.tags)||void 0===c?void 0:c.message})]}),(0,r.jsx)(V,{children:(0,r.jsxs)($,{children:[(0,r.jsx)(yn,{setLng:n.setLng,setLat:n.setLat,setAddress:n.setAddress,setAddressDetail:n.setAddressDetail,isEditWrite:n.isEditWrite,defaultAddress:n.defaultAddress,data:n.data}),(0,r.jsx)(T.Z,{divName:"\uc0ac\uc9c4 \ucca8\ubd80"}),(0,r.jsx)(R,{children:new Array(4).fill(1).map((function(e,t){var i;return(0,r.jsx)(W.Z,{index:t,newImages:null===(i=n.data)||void 0===i?void 0:i.fetchUseditem.images[t],data:n.data,onChangeFiles:n.onChangeFiles},"".concat(e,"_").concat(t))}))})]})}),(0,r.jsx)(nn.Z,{buttonName:n.isEditWrite?"\uc218\uc815\ud558\uae30":"\ub4f1\ub85d\ud558\uae30",isActive:n.isActive})]})})},In=t(46829),Pn=t(52657),An=t(11163),Dn=t(42283),Sn=t(28834),_n=t(9298),En=t(71796),Nn=(0,Pn.Z)((function(n){var e=(0,tn.useState)([null,null,null,null]),t=e[0],i=e[1],u=(0,tn.useState)(0),c=u[0],l=u[1],p=(0,tn.useState)(""),m=p[0],h=p[1],v=(0,tn.useState)(),b=v[0],Z=v[1],w=(0,tn.useState)(),j=w[0],y=w[1],k=(0,tn.useState)(0),O=k[0],U=k[1],C=(0,Dn.cI)({mode:"onChange",resolver:(0,Sn.X)(_n.cy)}),I=C.register,P=C.handleSubmit,A=C.setValue,D=C.formState,S=(0,An.useRouter)(),_=(0,In.useMutation)(f),E=(0,s.Z)(_,1)[0],N=(0,In.useMutation)(g),M=(0,s.Z)(N,1)[0],F=(0,In.useMutation)(x),q=(0,s.Z)(F,1)[0],z=(0,In.useQuery)(En.o7,{variables:{useditemId:S.query.useditemId}}).data;(0,tn.useEffect)((function(){var n;z&&(i(null===z||void 0===z||null===(n=z.fetchUseditem)||void 0===n?void 0:n.images),h(null===z||void 0===z?void 0:z.fetchUseditem.useditemAddress.address))}),[z]);var L=function(){var n=(0,d.Z)(a().mark((function n(e){var r,i,d,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=t.filter((function(n){return n})).map((function(n){return q({variables:{file:n}})})),n.next=4,Promise.all(r);case 4:return i=n.sent,d=i.map((function(n){var e;return null===(e=n.data)||void 0===e?void 0:e.uploadFile.url})),n.next=8,E({variables:{createUseditemInput:{name:e.name,remarks:e.remarks,contents:e.contents,price:Number(e.price),tags:e.tags,images:d,useditemAddress:{address:c,addressDetail:O,lat:j,lng:b}}}});case 8:o=n.sent,wn.Z.success({content:"\uc0c1\ud488\uc774 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4!",onOk:function(){var n;S.push("/usedMarket/detail/".concat(null===(n=o.data)||void 0===n?void 0:n.createUseditem._id))}}),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),wn.Z.error({content:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}(),V=function(){var n=(0,d.Z)(a().mark((function n(e){var r,i,d;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(t.map((function(n){return"string"!==typeof n?q({variables:{file:n}}):n})));case 2:return r=n.sent,i=r.filter((function(n){return n})).map((function(n){var e,t;return null!==(e=n.data)&&void 0!==e&&e.uploadFile.url?null===(t=n.data)||void 0===t?void 0:t.uploadFile.url:n})),n.prev=4,n.next=7,M({variables:{updateUseditemInput:{name:e.name,remarks:e.remarks,contents:e.contents,price:Number(e.price),tags:e.tags,images:i,useditemAddress:{address:c,addressDetail:O,lat:j,lng:b}},useditemId:S.query.useditemId}});case 7:d=n.sent,console.log(e.name),wn.Z.success({content:"\uc218\uc815\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",onOk:function(){var n;S.push("/usedMarket/detail/".concat(null===(n=d.data)||void 0===n?void 0:n.updateUseditem._id))}}),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),wn.Z.error({content:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[4,12]])})));return function(e){return n.apply(this,arguments)}}();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(Cn,{isActive:D.isValid,errors:D.errors,data:z,files:t,defaultAddress:m,isEditWrite:n.isEditWrite,onClickUpdate:V,setLng:Z,setLat:y,setAddress:l,setAddressDetail:U,onChangeValue:function(n){A("contents",n)},register:I,handleSubmit:P,onChangeFiles:function(n,e){var r=(0,o.Z)(t);r[e]=n,i(r)},onClickItem:L})})}))}}]);