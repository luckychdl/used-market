(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[79],{93376:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return F}});var t=r(85893),o=r(809),i=r.n(o),u=r(92447),s=r(64121),c=r(46829),a=r(67294),d=r(31408),p=r(26265),l=r(27261),f=r(24524);function g(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function b(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){(0,p.Z)(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function m(){var n=(0,l.Z)(["\n  color: red;\n"]);return m=function(){return n},n}function h(){var n=(0,l.Z)(["\n  width: 460px;\n  height: 70px;\n  padding-left: 20px;\n  border-radius: 5px;\n  border: 1px solid #bdbdbd;\n  font-size: 18px;\n  outline-color: #512771;\n  ::placeholder {\n    color: #bdbdbd;\n  }\n"]);return h=function(){return n},n}var v=f.Z.input(h()),x=f.Z.div(m()),Z=function(n){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v,b(b({type:n.type},n.register),{},{placeholder:n.inputName})),(0,t.jsx)(x,{children:n.errorMessage})]})};function j(){var n=(0,l.Z)(["\n  color: red;\n  margin-bottom: 10px;\n"]);return j=function(){return n},n}function y(){var n=(0,l.Z)(["\n  font-size: 20px;\n  margin: 15px;\n  cursor: pointer;\n  :active {\n    position: relative;\n    top: 4px;\n  }\n"]);return y=function(){return n},n}function w(){var n=(0,l.Z)(["\n  display: flex;\n  justify-content: center;\n"]);return w=function(){return n},n}function O(){var n=(0,l.Z)(["\n  width: 460px;\n  height: 70px;\n  margin-top: 20px;\n  border-radius: 5px;\n  background-color: #512771;\n  color: white;\n  font-size: 26px;\n  border: none;\n  cursor: pointer;\n  :active {\n    position: relative;\n    top: 4px;\n  }\n"]);return O=function(){return n},n}function _(){var n=(0,l.Z)(["\n  width: 460px;\n  height: 70px;\n  padding-left: 20px;\n  border-radius: 5px;\n  border: 1px solid #bdbdbd;\n  font-size: 18px;\n  outline-color: #512771;\n  ::placeholder {\n    color: #bdbdbd;\n  }\n"]);return _=function(){return n},n}function k(){var n=(0,l.Z)(["\n  width: 200px;\n  height: 150px;\n"]);return k=function(){return n},n}function P(){var n=(0,l.Z)(["\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin-top: 30px;\n"]);return P=function(){return n},n}function S(){var n=(0,l.Z)(["\n  height: 100%;\n"]);return S=function(){return n},n}var q=f.Z.div(S()),C=f.Z.div(P()),E=f.Z.img(k()),I=(f.Z.input(_()),f.Z.button(O())),N=f.Z.div(w()),T=f.Z.div(y());f.Z.div(j());function U(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function D(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?U(Object(r),!0).forEach((function(e){(0,p.Z)(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function L(n){var e,r;return(0,t.jsx)("form",{onSubmit:n.handleSubmit(n.onClickLogin),children:(0,t.jsxs)(q,{children:[(0,t.jsxs)(C,{children:[(0,t.jsx)(E,{src:"/FreeBoard/marketLogo.webp"}),(0,t.jsx)(Z,{inputName:"\uc774\uba54\uc77c",type:"text",register:D({},n.register("email")),errorMessage:null===(e=n.errors.email)||void 0===e?void 0:e.message}),(0,t.jsx)(Z,{inputName:"\ube44\ubc00\ubc88\ud638",type:"password",register:D({},n.register("password")),errorMessage:null===(r=n.errors.password)||void 0===r?void 0:r.message}),(0,t.jsx)(I,{children:"\ub85c\uadf8\uc778"})]}),(0,t.jsxs)(N,{children:[(0,t.jsx)(T,{children:"\ube44\ubc00\ubc88\ud638 \uc7ac\uc124\uc815"}),(0,t.jsx)(T,{onClick:n.onClickMoveToSignin,children:"\ud68c\uc6d0\uac00\uc785"})]})]})})}var M=r(1754),z=r(60055),R=r(11163),$=r(42283),A=r(9298),X=r(28834);function B(){var n=(0,a.useContext)(d.GlobalContext),e=n.setAccessToken,r=n.setUserInfo,o=(0,R.useRouter)(),p=(0,c.useApolloClient)(),l=(0,$.cI)({mode:"onChange",resolver:(0,X.X)(A.fK)}),f=l.register,g=l.handleSubmit,b=l.formState,m=(0,c.useMutation)(M.E),h=(0,s.Z)(m,1)[0],v=function(){var n=(0,u.Z)(i().mark((function n(t){var u,s,c,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h({variables:{email:t.email,password:String(t.password)}});case 3:return c=n.sent,n.next=6,p.query({query:M.l,context:{headers:{authorization:"Bearer ".concat(null===(u=c.data)||void 0===u?void 0:u.loginUser.accessToken)}}});case 6:a=n.sent,r(a.data.fetchUserLoggedIn),localStorage.setItem("userInfo",JSON.stringify(a.data.fetchUserLoggedIn)),e((null===(s=c.data)||void 0===s?void 0:s.loginUser.accessToken)||""),localStorage.setItem("refreshToken","true"),z.Z.confirm({content:"\ud658\uc601\ud569\ub2c8\ub2e4!",onOk:function(){o.push("/usedMarket")}}),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),z.Z.error({content:n.t0.message});case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e){return n.apply(this,arguments)}}();return(0,t.jsx)(L,{isActive:b.isValid,errors:b.errors,onClickMoveToSignin:function(){o.push("/boards/signup")},onClickLogin:v,register:f,handleSubmit:g})}function F(){return(0,t.jsx)(B,{})}},9298:function(n,e,r){"use strict";r.d(e,{fK:function(){return o},wq:function(){return i},cy:function(){return u}});var t=r(19501),o=t.Ry().shape({email:t.Z_().email("\uc774\uba54\uc77c \ud615\uc2dd\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.").required("\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),password:t.Z_().min(8,"\ube44\ubc00\ubc88\ud638\ub294 8\uc790 \uc774\uc0c1\uc73c\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.").max(16,"\ube44\ubc00\ubc88\ud638\ub294 16\uc790 \uc774\ud558\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.").required("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")}),i=t.Ry().shape({email:t.Z_().email("\uc774\uba54\uc77c \ud615\uc2dd\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.").required("\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),password:t.Z_().min(8,"\ube44\ubc00\ubc88\ud638\ub294 8\uc790 \uc774\uc0c1\uc73c\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.").max(16,"\ube44\ubc00\ubc88\ud638\ub294 16\uc790 \uc774\ud558\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.").required("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."),confirmPassword:t.Z_().min(8,"\ube44\ubc00\ubc88\ud638\ub294 8\uc790 \uc774\uc0c1\uc73c\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.").max(16,"\ube44\ubc00\ubc88\ud638\ub294 16\uc790 \uc774\ud558\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.").required("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."),name:t.Z_().min(2,"\ub2c9\ub124\uc784\uc740 2\uc790 \uc774\uc0c1\uc73c\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.").max(15,"\ub2c9\ub124\uc784\uc740 15\uc790 \uc774\ud558\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.").required("\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.")}),u=t.Ry().shape({name:t.Z_().required("\uc0c1\ud488\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),remarks:t.Z_().required("\uc0c1\ud488 \uc694\uc57d\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),contents:t.Z_().required("\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),price:t.Z_().min(0).required("\ud310\ub9e4 \uac00\uaca9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),tags:t.Z_().required("\ud0dc\uadf8\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")})},1754:function(n,e,r){"use strict";r.d(e,{E:function(){return s},l:function(){return c}});var t=r(27261),o=r(22527);function i(){var n=(0,t.Z)(["\n  query fetchUserLoggedIn {\n    fetchUserLoggedIn {\n      _id\n      name\n      email\n      userPoint {\n        _id\n        amount\n      }\n    }\n  }\n"]);return i=function(){return n},n}function u(){var n=(0,t.Z)(["\n  mutation loginUser($password: String!, $email: String!) {\n    loginUser(password: $password, email: $email) {\n      accessToken\n    }\n  }\n"]);return u=function(){return n},n}var s=(0,o.ZP)(u()),c=(0,o.ZP)(i())},99633:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/boards/login",function(){return r(93376)}])}},function(n){n.O(0,[283,752,774,888,179],(function(){return e=99633,n(n.s=e);var e}));var e=n.O();_N_E=e}]);